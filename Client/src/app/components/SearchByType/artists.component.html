<a [routerLink]="['/user']" >Profile</a>
&nbsp;
<a [routerLink]="['/artists']" >Search Artists</a>
&nbsp;
<a [routerLink]="['/albums']">Search Albums</a>
&nbsp;
<a [routerLink]="['/favorite']">Favorite</a>
&nbsp;

<button type="button" [routerLink]="['/']">Logout</button>


<form [formGroup]="artistsForm" (ngSubmit)="searchArtist()">

    <table>
        <tr>
          <td>Artist:</td>
          <td>
            <input type="text" placeholder="Search by artist" size="30"  formControlName="q">

            <div *ngIf="artistsForm?.get('q')?.invalid && artistsForm.get('q')?.touched">
              <div *ngIf="artistsForm?.get('q')?.touched && artistsForm?.get('q')?.hasError('required')">Please Enter artist's name.</div>
              <!-- <div *ngIf="artistsForm?.get('q')?.touched && artistsForm?.get('q')?.hasError('minlength')">Name must be at least 2 characters long.</div> -->
            </div>

          </td>
        </tr>
        
        <tr>
            <td></td>
            <td>
              <input type="hidden" value="artist" formControlName="type">
            </td>
          </tr>
        <tr>
          <td>Limit:</td>
          <td>
            <input type="number" value="5" min="5" max="25" step="5" size="30" formControlName="limit">
          
            <div *ngIf="artistsForm?.get('limit')?.invalid && artistsForm.get('limit')?.touched">
              <div *ngIf="artistsForm?.get('limit')?.touched && artistsForm?.get('limit')?.hasError('required')">Please Enter Limit.</div>
              <div *ngIf="artistsForm?.get('limit')?.touched && artistsForm?.get('limit')?.hasError('min')">Minimum must be 5.</div>
              <div *ngIf="artistsForm?.get('limit')?.touched && artistsForm?.get('limit')?.hasError('max')">Maximum must be 25.</div>
            </div>

          </td>
        </tr>
        
        <button type="submit">Search!</button>
    </table>
    
    <div *ngFor="let art of artist">
      <img src="{{art.images[0].url}}" alt="">
      <h3>ID: {{art.id}}</h3>
      <h3>NAME: {{art.name}}</h3>
      <h3>URI: {{art.uri}}</h3>
      <h3>TYPE: {{art.type}}</h3>
      <h3>POPULARITY: {{art.popularity}}</h3>
      <h3>HREF: {{art.href}}</h3>
      <h3>ExternalURL: https://open.spotify.com/artist/{{art.id}}</h3>
      <!-- <h3>EXTERNALURL: {{art.external_urls?.spotify}}</h3> -->
      <h3>FOLLOWERS: {{art.followers.total}}</h3>
      <h3>IMAGE: {{art.images[0].url}}</h3>
      <h3>GENRE: {{art.genres}}</h3>
      <button type="button" (click)="saveArtist(art); popup = true">Save this Artist</button>
      
        <div class="overlay" *ngIf="popup && selectArtist === art">
            <div class="popup">
              <h1>{{art.name}}</h1>
              <h2>Saved Successfully</h2>
              <img src="{{art.images[0].url}}" alt="" width="200">
              <a class="close" (click)="popup = false">&times;</a>
              <div class="content">
              <a href="https://open.spotify.com/artist/{{art.id}}" target="_blank"> Click to go to Spotify to see this Artist </a>
            </div>
        </div>
        
      </div>
    </div>  
    

</form>
 
 
 